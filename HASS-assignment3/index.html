
<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Assignment 3 - Tabular Data Visualization</title>
    <script src="https://d3js.org/d3.v6.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <main>
      <div class="container py-4">
        <header class="pb-3 mb-4 border-bottom text-center">
            <span class="fs-1">Assignment 3 - Tabular Data Visualization</span></br></br>
            <span class="fs-3">Hypothesis: The value (psf) of HDB flats are appreciating over years.</span></br></br>
            <span class="fs-7">
                Background: The value (psf) of HDB flats generally appreciates over years due to the increase of demand
                over supply. However, due to the decreasing of remaining lease over year, the value (psf) of HDB flats 
                could potentially depreciate over years. Therefore, it is worth looking into the past data to confirm this
                hypothesis.
            </span></br></br>
            <!-- <a class="btn btn-primary" type="button" href="#viz1">Visualization 1</a> -->
        </header>
      
        <div id='viz1' class="p-5 mb-3 bg-body-tertiary rounded-3">
          <div class="container-fluid py-1">
            <div id="my_dataviz"></div>
            <script>
          
              // set the dimensions and margins of the graph
              const margin = {top: 10, right: 30, bottom: 30, left: 60},
                      width = 460 - margin.left - margin.right,
                      height = 400 - margin.top - margin.bottom;
              
              // append the svg object to the body of the page
              const svg = d3.select("#my_dataviz")
                  .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                  .attr("transform", `translate(${margin.left}, ${margin.top})`);
              
              //Read the data
              d3.csv("data/HDB_Data1.csv").then( function(data) {
              
                  // Add X axis
                  const x = d3.scaleLinear()
                  .domain([100, 0])
                  .range([ 0, width ]);
                  svg.append("g")
                  .attr("transform", `translate(0, ${height})`)
                  .call(d3.axisBottom(x));
              
                  // Add Y axis
                  const y = d3.scaleLinear()
                  .domain([0, 10000])
                  .range([ height, 0]);
                  svg.append("g")
                  .call(d3.axisLeft(y));
              
                  // Add dots
                  svg.append('g')
                  .selectAll("dot")
                  .data(data)
                  .join("circle")
                      .attr("cx", function (d) { return x((d.remaining_lease).substring(0,2)); } )
                      .attr("cy", function (d) { return y(d.resale_price / d.floor_area_sqm); } )
                      .attr("r", 1.5)
                      .style("fill", "red")
              
              })
            </script>
          </div>
        </div>
        <footer class="pt-3 mt-4 text-body-secondary border-top text-center">
          Copyright @ <a href="http://cheinwong.me" target="_blank">cheinwong.me</a>
        </footer>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
